<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>e2e test searcher (mock)</title>
  <link rel="stylesheet" href="./src/styles.css" />
</head>
<body>
  <div id="app" class="container">
    <div class="left-panel">
      <div id="source-status" class="source-status">Źródło: nieznane</div>

      <!-- new: load local Xray JSON -->
      <div class="xray-load">
        <label for="xray-file-input" class="muted">Wczytaj plik Xray JSON (jeśli nie ma /xray/tests.json):</label>
        <input id="xray-file-input" type="file" accept="application/json" />
      </div>

      <input id="search-input" type="search" maxlength="20" placeholder="Szukaj (max 20 znaków)" aria-label="Szukaj testów" />
      <div id="tree" class="tree"></div>
    </div>

    <!-- resizer between panels -->
    <div id="resizer" class="resizer" role="separator" aria-orientation="vertical" tabindex="0" title="Zmień szerokość panelu"></div>

    <div id="details" class="details">
      <div class="empty">Wybierz test po lewej, aby zobaczyć definicję</div>

      <!-- meta details (wypełniane przez showDetails) -->
      <div class="detail-meta" style="display:none">
        <h2 id="detail-name"></h2>
        <div>Id: <span id="detail-id"></span></div>
        <div>Opis:</div>
        <div id="detail-description" style="white-space:pre-wrap; margin:6px 0;"></div>
        <div>Ilość testów (leaf count): <span id="detail-length">0</span></div>
        <div style="margin-top:8px">
          <strong>Surowe dane JSON:</strong>
          <pre id="detail-json" class="json" style="max-height:200px; overflow:auto;"></pre>
        </div>
      </div>

      <!-- sekcje (pozostawione do zgodności z istniejącą logiką) -->
      <div id="detail-section-suite" class="detail-section" style="display:none"></div>
      <div id="detail-section-test" class="detail-section" style="display:none"></div>
    </div>
  </div>

  <script type="module" src="./dist/main.js"></script>
</body>
</html>
